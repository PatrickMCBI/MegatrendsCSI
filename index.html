<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MCSI</title>
    <style>
     
      * {
        box-sizing: border-box;
        margin: 0;
      }
      .form-group {
        margin: 20px;
      }
      .form-group input,
      select {
        width: 250px;
        height: 30px;
        outline: none;
        font-size: 15px;
        padding: 0 5px;
      }
      .form-group textarea {
        width: 100%;
        outline: none;
        font-size: 15px;
        padding: 5px 5px;
        resize: none;
      }
      .form-group button {
        height: 30px;
        width: 100px;
        font-weight: 700;
      }
      .form-container {
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .grid-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
      }
      header {
        height: 100%;
        background-color: #d92b2c;
        box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
      }
      span {
        color: red;
      }
      .grid-2clm{
        display: grid;
        grid-template-columns: 1fr 1fr;
      }
      footer{
        border: 1px solid #c0c0c0;
        padding: 15px;
        position: fixed;
        bottom: 0;
        width: 100%;
        background-color: #fff;
      }
      .slider-container {
    overflow: hidden;
    width: 100%; /* Adjust the width as needed */
    height: 100%; /* Adjust the height as needed */
}

.slider {
    display: flex;
    width: 1200px; /* Total width of all slides (300px * 3 slides) */
    animation: slide 15s linear infinite; /* Adjust the animation duration */
}

.slide {
    flex: 0 0 200px; /* Set the width of individual slides */
    height: 100%; /* Set the height of individual slides */
    /* background-color: #3498db; Set the background color */
    margin-right: 10px; /* Adjust the margin between slides */
}
.slide img{
  width: 100%;
}

@keyframes slide {
    0% {
        transform: translateX(0);
    }
    33% {
        transform: translateX(-300px); /* Slide to the left */
    }
    66% {
        transform: translateX(-600px); /* Slide to the left */
    }
    100% {
        transform: translateX(0);
    }
}

.loader-container {
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #000000b5;
    position: fixed;
    width: 100%;
    height: 100vh;
    z-index: 10;
    top: 0;
}

.loader {
    border: 4px solid #3498db; /* Loader color */
    border-top: 4px solid transparent;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

.alert {
  display: block;
    background-color: #4CAF50;
    color: white;
    padding: 10px;
    margin-bottom: 20px;
    position: fixed;
    width: 100%;
    text-align: center;
    top: 0;
}

@media screen and (max-width: 768px) {
    /* CSS rules for mobile devices */
    .grid-container{
      display: flex;
      flex-direction: column-reverse;

    }
    .grid-2clm{
      display: block;
    }
    .form-group input, select{
      width: 100%;
    }
    .form-container{
      display: block;
    }
    footer{
      position: inherit;;
    }
    header{
      height: 60px;
    }
}

    </style>
  </head>
  <body>
    <header>
      <img src="img/msci.png" alt="" style="height: 100%; width: 100%" />
    </header>
    <div class="grid-container">
      <div class="form-container">
        <div style="margin-top: 25px">
          <div class="grid-2clm">
            <div class="form-group">
              <label for="">Fullname <span>*</span></label>
              <div>
                <input type="text" class="jsFullname" />
              </div>
            </div>
            <div class="form-group">
              <label for="">Position <span>*</span></label>
              <div>
                <select class="jsPosition">
                  <option value="Owner">Owner</option>
                  <option value="Project Manager">Project Manager</option>
                  <option value="Project Engineer /PIC">Project Engineer /PIC</option>
                  <option value="QA/QS">QA/QS</option>
                  <option value="Purchasing">Purchasing</option>
                  <option value="Purchasing Manager">Purchasing Manager</option>
                  <option value="Architect">Architect</option>
                  <option value="Consultant">Consultant</option>
                  <option value="CFO">CFO</option>

                </select>
              </div>
            </div>
          </div>
          <div class="grid-2clm">
            <div class="form-group">
              <label for="">Company name <span>*</span></label>
              <div>
                <input type="text" class="jsCompany" />
              </div>
            </div>
            <div class="form-group">
                <label for="">classification of Company <span>*</span></label>
                <div>
                  <select class="jsCompanyClassification">
                    <option value="Enduser">Enduser</option>
                    <option value="Hardware">Hardware</option>
                    <option value="Construction">Construction</option>
                    <option value="MEPF">MEPF</option>
                    <option value="Developer">Developer</option>
                    <option value="Designer">Designer</option>
                    <option value="Freelance">Freelance</option>
                    <option value="Trading">Trading</option>
                    <option value="Waterproofing Contractor">Waterproofing Contractor</option>
                    <option value="Facade Contractor">Facade Contractor</option>
                    <option value="Aluminum and Glass">Aluminum and Glass</option>
                    <option value="Motor Shop/Auto Shop">Motor Shop/Auto Shop</option>
                  </select>
                </div>
              </div>
          </div>
          <div class="grid-2clm">
            <div class="form-group">
              <label for="">Contact number <span>*</span></label>
              <div>
                <input type="text" class="jsContactNumber"/>
              </div>
            </div>
            <div class="form-group">
                <label for="">Email <span>*</span></label>
                <div>
                  <input type="text" class="jsEmail"/>
                </div>
              </div>
          </div>
          <div class="grid-2clm">
            <div class="form-group">
              <label for="">Product needed <span>*</span></label>
              <div>
                <textarea name="" rows="8" class="jsProjectTarget"></textarea>
              </div>
            </div>
          </div>

          <div class="form-group grid-2clm">
            <div>
              <button class="jsSubmitBtn">Submit</button>
            </div>
            <div style="display: flex;justify-content: end;align-items: flex-end;">
                <a href="img/MCSI PRODUCTS WITH PROJECTS_2023_0922_Vertical.pdf" download>Donwload Company Profile</a>
            </div>
          </div>
        </div>
      </div>
      <div class="form-container" style="border: 1px solid black; overflow: hidden;">
        <div class="slider-container">
        <div class="slider">
            <div class="slide">
              <img src="img/Construction & Joint Sealant.png" alt="">
            </div>
            <div class="slide">
              <img src="img/Fire Stop Solutions INCA.png" alt="">
            </div>
            <div class="slide">
              <img src="img/General Glazing Nurichem.png" alt="">
            </div>
            <div class="slide">
              <img src="img/Structural Silicon Glazing Tremco.png" alt="">
            </div>
            <div class="slide">
              <img src="img/Water Proofing Alchimica.png" alt="">
            </div>
            <div class="slide">
              <img src="img/MCSI.png" alt="">
            </div>
        </div>
    </div>
      </div>
    </div>
    <footer>
      <p>&copy; MCSI - <label id="currentYear"></label></p>
    </footer>

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.3.1/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.3.1/firebase-analytics.js";
      import {
        getDatabase,
        ref,
        push,
      } from "https://www.gstatic.com/firebasejs/10.3.1/firebase-database.js"; // Add this line

      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyA1H653oOp7EvydcQ2lZLhS1qRuHDlgpcY",
        authDomain: "mcsiform.firebaseapp.com",
        databaseURL: "https://mcsiform-default-rtdb.firebaseio.com",
        projectId: "mcsiform",
        storageBucket: "mcsiform.appspot.com",
        messagingSenderId: "182194495593",
        appId: "1:182194495593:web:f660b263fdd36192ff02f8",
        measurementId: "G-PS9DH5L494",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);

      // Get a reference to the database
      const database = getDatabase(app);
      document.querySelector(".jsSubmitBtn").addEventListener("click", () => {
        const currentDate = new Date();

        const year = currentDate.getFullYear();
        const month = currentDate.getMonth() + 1; // Note: Months are zero-based, so we add 1 to get the correct month.
        const day = currentDate.getDate();
        const today = `${year}-${month}-${day}`;

        // Reference to a specific location in the database
        const dataRef = ref(database, today); // Replace 'your-data-path' with the actual path in your database

        const fullname = document.querySelector(".jsFullname");
        const position = document.querySelector(".jsPosition");
        const companyName = document.querySelector(".jsCompany");
        const companyClassification = document.querySelector(".jsCompanyClassification");
        const contactNumber = document.querySelector(".jsContactNumber");
        const email = document.querySelector(".jsEmail");
        const projectTarget = document.querySelector(".jsProjectTarget");
        // Data to be saved
        const newData = {
          _1Fullname: fullname.value,
          _2Position: position.value,
          _3CompanyName: companyName.value,
          _4ClassificationOfCompany: companyClassification.value,
          _5ContactNumber: contactNumber.value,
          _5Email: email.value,
          _6ProjectTarget: projectTarget.value,
        };

        let view = `<div class="loader-container">
                        <div class="loader"></div>
                    </div>`;
        let domparse = new DOMParser().parseFromString(view, 'text/html').querySelector('.loader-container');
        document.body.append(domparse);
    
        
        // Push the data to the database
        push(dataRef, newData)
          .then(() => {
            console.log("Data saved successfully.");
            document.querySelector('.loader-container').remove();

            let alert = `<div class="alert" id="alert">Message Sent!</div>`
            let domparseAlert = new DOMParser().parseFromString(alert, 'text/html').querySelector('#alert');
            document.body.append(domparseAlert);

            setTimeout(() => {
              document.querySelector('#alert').remove();
            }, 3000); // 3000 milliseconds = 3 seconds

          })
          .catch((error) => {
            console.error("Error saving data: ", error);
            
            ocument.querySelector('.loader-container').remove();
            setTimeout(() => {
              document.querySelector('#alert').remove();
            }, 3000); // 3000 milliseconds = 3 seconds
          });
      });

      // function validateForm(input) {

      //   let errors = 0;

      //   if (input.classList.contains('input-select')) {
      //       if (input.getAttribute('data-id') > 0) {
      //           input.closest('.jsSelectInputCont').removeAttribute('style');
      //       }
      //       else {
      //           errors += 1;
      //           input.closest('.jsSelectInputCont').setAttribute('style', 'border: 1px solid red');
      //       }
      //   }
      //   else {
      //       if (input.value) {
      //           input.removeAttribute('style');

      //       }
      //       else {
      //           errors += 1;
      //           input.setAttribute('style', 'border: 1px solid red');
      //       }
      //   }

      //   return errors == 0 ? true : false;
      //   }

    
    </script>

    <script>
      const currentYear = new Date().getFullYear();
      document.getElementById("currentYear").textContent = currentYear;
    </script>
  </body>
</html>
